{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { Camera } from \"expo-camera\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function App() {\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    hasCameraPermission = _useState2[0],\n    setHasCameraPermission = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    camera = _useState4[0],\n    setCamera = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    image = _useState6[0],\n    setImage = _useState6[1];\n  var _useState7 = useState(Camera.Constants.Type.back),\n    _useState8 = _slicedToArray(_useState7, 2),\n    type = _useState8[0],\n    setType = _useState8[1];\n  useEffect(function () {\n    _asyncToGenerator(function* () {\n      var cameraStatus = yield Camera.requestCameraPermissionsAsync();\n      setHasCameraPermission(cameraStatus.status === \"granted\");\n    })();\n  }, []);\n  var takePicture = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      if (camera) {\n        var data = yield camera.takePictureAsync(null);\n        setImage(data.uri);\n      }\n    });\n    return function takePicture() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  if (hasCameraPermission === false) {\n    return _jsx(Text, {\n      children: \"No access to camera\"\n    });\n  }\n  return _jsxs(View, {\n    style: {\n      flex: 1\n    },\n    children: [_jsx(View, {\n      style: styles.cameraContainer,\n      children: _jsx(Camera, {\n        ref: function ref(_ref3) {\n          return setCamera(_ref3);\n        },\n        style: styles.fixedRatio,\n        type: type,\n        ratio: \"1:1\"\n      })\n    }), _jsx(Button, {\n      title: \"Flip Image\",\n      onPress: function onPress() {\n        setType(type === Camera.Constants.Type.back ? Camera.Constants.Type.front : Camera.Constants.Type.back);\n      }\n    }), _jsx(Button, {\n      title: \"Take Picture\",\n      onPress: function onPress() {\n        return takePicture();\n      }\n    }), image && _jsx(Image, {\n      source: {\n        uri: image\n      },\n      style: {\n        flex: 1\n      }\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  cameraContainer: {\n    flex: 1,\n    flexDirection: \"row\"\n  },\n  fixedRatio: {\n    flex: 1,\n    aspectRatio: 1\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","StyleSheet","Text","View","Button","Image","Camera","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","hasCameraPermission","setHasCameraPermission","_useState3","_useState4","camera","setCamera","_useState5","_useState6","image","setImage","_useState7","Constants","Type","back","_useState8","type","setType","_asyncToGenerator","cameraStatus","requestCameraPermissionsAsync","status","takePicture","_ref2","data","takePictureAsync","uri","apply","arguments","children","style","flex","styles","cameraContainer","ref","fixedRatio","ratio","title","onPress","front","source","create","flexDirection","aspectRatio"],"sources":["C:/Users/avani/Reactnative/CameraApp/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { StyleSheet, Text, View, Button, Image } from \"react-native\";\nimport { Camera } from \"expo-camera\";\n\nexport default function App() {\n  const [hasCameraPermission, setHasCameraPermission] = useState(null);\n  const [camera, setCamera] = useState(null);\n  const [image, setImage] = useState(null);\n  const [type, setType] = useState(Camera.Constants.Type.back);\n  useEffect(() => {\n    (async () => {\n      const cameraStatus = await Camera.requestCameraPermissionsAsync();\n      setHasCameraPermission(cameraStatus.status === \"granted\");\n    })();\n  }, []);\n  const takePicture = async () => {\n    if (camera) {\n      const data = await camera.takePictureAsync(null);\n      setImage(data.uri);\n    }\n  };\n\n  if (hasCameraPermission === false) {\n    return <Text>No access to camera</Text>;\n  }\n  return (\n    <View style={{ flex: 1 }}>\n      <View style={styles.cameraContainer}>\n        <Camera\n          ref={(ref) => setCamera(ref)}\n          style={styles.fixedRatio}\n          type={type}\n          ratio={\"1:1\"}\n        />\n      </View>\n      <Button\n        title=\"Flip Image\"\n        onPress={() => {\n          setType(\n            type === Camera.Constants.Type.back\n              ? Camera.Constants.Type.front\n              : Camera.Constants.Type.back\n          );\n        }}\n      ></Button>\n      <Button title=\"Take Picture\" onPress={() => takePicture()} />\n      {image && <Image source={{ uri: image }} style={{ flex: 1 }} />}\n    </View>\n  );\n}\nconst styles = StyleSheet.create({\n  cameraContainer: {\n    flex: 1,\n    flexDirection: \"row\",\n  },\n  fixedRatio: {\n    flex: 1,\n    aspectRatio: 1,\n  },\n});"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC,OAAAC,UAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,MAAA;AAAA,OAAAC,KAAA;AAEnD,SAASC,MAAM,QAAQ,aAAa;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAErC,eAAe,SAASC,GAAGA,CAAA,EAAG;EAC5B,IAAAC,SAAA,GAAsDb,QAAQ,CAAC,IAAI,CAAC;IAAAc,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA7DG,mBAAmB,GAAAF,UAAA;IAAEG,sBAAsB,GAAAH,UAAA;EAClD,IAAAI,UAAA,GAA4BlB,QAAQ,CAAC,IAAI,CAAC;IAAAmB,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAAnCE,MAAM,GAAAD,UAAA;IAAEE,SAAS,GAAAF,UAAA;EACxB,IAAAG,UAAA,GAA0BtB,QAAQ,CAAC,IAAI,CAAC;IAAAuB,UAAA,GAAAR,cAAA,CAAAO,UAAA;IAAjCE,KAAK,GAAAD,UAAA;IAAEE,QAAQ,GAAAF,UAAA;EACtB,IAAAG,UAAA,GAAwB1B,QAAQ,CAACO,MAAM,CAACoB,SAAS,CAACC,IAAI,CAACC,IAAI,CAAC;IAAAC,UAAA,GAAAf,cAAA,CAAAW,UAAA;IAArDK,IAAI,GAAAD,UAAA;IAAEE,OAAO,GAAAF,UAAA;EACpB7B,SAAS,CAAC,YAAM;IACdgC,iBAAA,CAAC,aAAY;MACX,IAAMC,YAAY,SAAS3B,MAAM,CAAC4B,6BAA6B,CAAC,CAAC;MACjElB,sBAAsB,CAACiB,YAAY,CAACE,MAAM,KAAK,SAAS,CAAC;IAC3D,CAAC,EAAE,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EACN,IAAMC,WAAW;IAAA,IAAAC,KAAA,GAAAL,iBAAA,CAAG,aAAY;MAC9B,IAAIb,MAAM,EAAE;QACV,IAAMmB,IAAI,SAASnB,MAAM,CAACoB,gBAAgB,CAAC,IAAI,CAAC;QAChDf,QAAQ,CAACc,IAAI,CAACE,GAAG,CAAC;MACpB;IACF,CAAC;IAAA,gBALKJ,WAAWA,CAAA;MAAA,OAAAC,KAAA,CAAAI,KAAA,OAAAC,SAAA;IAAA;EAAA,GAKhB;EAED,IAAI3B,mBAAmB,KAAK,KAAK,EAAE;IACjC,OAAOP,IAAA,CAACN,IAAI;MAAAyC,QAAA,EAAC;IAAmB,CAAM,CAAC;EACzC;EACA,OACEjC,KAAA,CAACP,IAAI;IAACyC,KAAK,EAAE;MAAEC,IAAI,EAAE;IAAE,CAAE;IAAAF,QAAA,GACvBnC,IAAA,CAACL,IAAI;MAACyC,KAAK,EAAEE,MAAM,CAACC,eAAgB;MAAAJ,QAAA,EAClCnC,IAAA,CAACF,MAAM;QACL0C,GAAG,EAAE,SAAAA,IAACA,KAAG;UAAA,OAAK5B,SAAS,CAAC4B,KAAG,CAAC;QAAA,CAAC;QAC7BJ,KAAK,EAAEE,MAAM,CAACG,UAAW;QACzBnB,IAAI,EAAEA,IAAK;QACXoB,KAAK,EAAE;MAAM,CACd;IAAC,CACE,CAAC,EACP1C,IAAA,CAACJ,MAAM;MACL+C,KAAK,EAAC,YAAY;MAClBC,OAAO,EAAE,SAAAA,QAAA,EAAM;QACbrB,OAAO,CACLD,IAAI,KAAKxB,MAAM,CAACoB,SAAS,CAACC,IAAI,CAACC,IAAI,GAC/BtB,MAAM,CAACoB,SAAS,CAACC,IAAI,CAAC0B,KAAK,GAC3B/C,MAAM,CAACoB,SAAS,CAACC,IAAI,CAACC,IAC5B,CAAC;MACH;IAAE,CACK,CAAC,EACVpB,IAAA,CAACJ,MAAM;MAAC+C,KAAK,EAAC,cAAc;MAACC,OAAO,EAAE,SAAAA,QAAA;QAAA,OAAMhB,WAAW,CAAC,CAAC;MAAA;IAAC,CAAE,CAAC,EAC5Db,KAAK,IAAIf,IAAA,CAACH,KAAK;MAACiD,MAAM,EAAE;QAAEd,GAAG,EAAEjB;MAAM,CAAE;MAACqB,KAAK,EAAE;QAAEC,IAAI,EAAE;MAAE;IAAE,CAAE,CAAC;EAAA,CAC3D,CAAC;AAEX;AACA,IAAMC,MAAM,GAAG7C,UAAU,CAACsD,MAAM,CAAC;EAC/BR,eAAe,EAAE;IACfF,IAAI,EAAE,CAAC;IACPW,aAAa,EAAE;EACjB,CAAC;EACDP,UAAU,EAAE;IACVJ,IAAI,EAAE,CAAC;IACPY,WAAW,EAAE;EACf;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}